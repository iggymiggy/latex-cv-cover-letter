% !TEX program = pdflatex
%-------------------------
% Professional Cover Letter Template in LaTeX
% Author : iggymiggy
% License : MIT
%
% Cover letter template matching CV styling.
% Personal info from personal_info.tex, defaults from base_config.tex,
% company-specific overrides from this file (in company folders).
%------------------------

% Global document settings (paper size, etc.)
% Define \loadfile helper before using it
\newcommand{\loadfile}[2]{%
  \IfFileExists{../../#1}{\input{../../#1}}{%
  \IfFileExists{../#1}{\input{../#1}}{%
  \IfFileExists{#1}{\input{#1}}{#2}}}%
}
\loadfile{document_settings.tex}{}

\documentclass{article}

% Load common package (shared packages, commands, and helpers)
\loadfile{templates/common.sty}{}

% Cover letter-specific packages
\usepackage{etoolbox}
\usepackage[finnish,english]{babel}
\usepackage[utf8]{inputenc}
% Note: glyphtounicode is not needed - \pdfgentounicode=1 in common.sty already handles Unicode encoding

%-------------------------------------------
%%%%%%  COVER LETTER STARTS HERE  %%%%%%%%%%%%%%%%%%%

% Load personal information
% Handles compilation from root, templates/, or companies/company_name/
\loadfile{personal_info.tex}{}

% Load base/default configuration first
% This provides default values for all CV and cover letter fields
\loadfile{templates/base_config.tex}{}

% Load shared company configuration (variables used by both CV and cover letter)
\loadfile{shared.tex}{}

% Header configuration: Minimal - just essential contact info - same as CV
\renewcommand{\headerorder}{email,phone,location}

%-----------COMPANY DETAILS (COVER LETTER SPECIFIC)------------
\renewcommand{\companyrecipient}{NASA Recruitment Team}
\renewcommand{\companyname}{NASA}
\renewcommand{\companyaddress}{300 E Street SW}
\renewcommand{\companycity}{Washington, DC 20546}

%-----------COVER LETTER SETTINGS (COMPANY-SPECIFIC)------------
\renewcommand{\letterdatelanguage}{english}
\renewcommand{\letterdate}{auto}
\renewcommand{\letterclosing}{Sincerely}
\renewcommand{\letteropening}{Dear Hiring Manager,}
\renewcommand{\lettertitle}{Job Application for Distinguished Engineer}
\renewcommand{\letterattachment}{Attached: Curriculum Vitae}

%-----------LETTER BODY (COMPANY-SPECIFIC)------------
% Style 4: "Impact bullets" (intro + highlights + close paragraphs).
% Content is defined directly here - no intermediate variables needed.
\providecommand{\letterbody}{}%
\renewcommand{\letterbody}{%
  \noindent I'm applying for the Distinguished Engineer role because I enjoy building and operating systems where correctness, traceability, and reliability matter. I've led large-scale platform work across distributed services and data pipelines, and I'm comfortable translating ambiguous mission goals into concrete technical plans, measurable risk reduction, and steady delivery.

  \vspace{10pt}

  \noindent\textbf{Selected impact:}
  \vspace{-2pt}
  \begin{itemize}[leftmargin=*]
    \item Reduced mission-critical processing time by 42\% by redesigning scheduling, telemetry ingestion, and backpressure handling.
    \item Led cross-team incident response and blameless postmortems; cut repeat incidents by 30\% through systematic remediation.
    \item Built automated validation for configuration and deployment artifacts, catching regressions pre-release and improving launch confidence.
  \end{itemize}

  \noindent NASA's missions demand engineering discipline: clear interfaces, robust verification, and thoughtful operational readiness. I'm especially motivated by work that spans flight and ground software, where telemetry, automation, and incident response directly improve mission safety and outcomes.

  \vspace{10pt}

  \noindent I bring a systems approach and a strong bias for operational excellence: designing for observability, validating assumptions with data, and treating reliability as a product feature. I'm effective in cross-functional environmentsâ€”aligning stakeholders, setting engineering standards, and mentoring teams to deliver high-assurance software at scale.
}

\validateconfigcoverletter
\setpdfmetadata

\begin{document}

% Set up cover letter date (language selection and auto-date handling)
% Uses \letterdatelanguage and \letterdate (defined in base_config.tex or this file)
\setupcoverletterdate

%-----------HEADING------------
\renderheader

\vspace{20pt}

% %----------COMPANY DETAILS AND DATE-----------------
\begin{tabular*}{\textwidth}{@{\extracolsep{\fill}}l@{\extracolsep{0pt}}r}
  \begin{minipage}[t]{0.52\textwidth}
    \small
    \raggedright
    \textbf{\companyrecipient} \\
    \cvcolor{primary}{\companyname} \\
    \cvcolor{primary}{\companyaddress} \\
    \cvcolor{primary}{\companycity} \\
  \end{minipage} &
  \begin{minipage}[t]{0.38\textwidth}
    \small
    \raggedleft
    \cvcolor{primary}{\letterdate} \\
  \end{minipage} \\
\end{tabular*}

\vspace{36pt}

%-----------LETTER TITLE AND OPENING------------
\noindent{\large\bfseries\underline{\lettertitle}} \\
\vspace{8pt}
\noindent \letteropening \\
\vspace{12pt}

%-----------LETTER CONTENT------------
% Content from base_config.tex or this file override
% Company configs can override \letterbody to reorder/add/remove sections.
\letterbody

\vspace{12pt}

%-----------LETTER CLOSING------------
\vspace{8pt}
\noindent \letterclosing, \\
\vspace{6pt}
\noindent\textbf{\myname} \\
\vspace{20pt}
\noindent\small\cvcolor{primary}{\textit{\letterattachment}}

%-------------------------------------------
\end{document}
